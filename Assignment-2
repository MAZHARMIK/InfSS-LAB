#include<stdio.h>

char Scytale[4][5];

//Creating the Scytale Cipher
void MakeScytale(char Message[])
{
    int i, j, k=0 ;
    for(i=0; i<4; i++)
    {
        for(j=0; j<5; j++)
        {
            if(Message[k]==' ')
            {
                k++;
                Scytale[i][j] = Message[k++];
            }
            else
                Scytale[i][j] = Message[k++];
        }
    }
}

int SpaceCount(char Message[])
{
    int i, sum=0;
    for(i=0; Message[i]!='\0'; i++)
    {
        if(Message[i]==' ')
            sum++;
    }
    return sum;
}

//Encryption Scheme
void EncryptedMessage()
{
    int i, j;

    for(i=0; i<4; i++)
    {
        for(j=0; j<5; j++)
        {
            printf("%c", Scytale[i][j]);
        }
    }
    printf("\n");
}

//Decryption Scheme
void DecryptedMessage()
{
    int i, j;

    for(i=0; i<5; i++)
    {
        for(j=0; j<4; j++)
        {
            printf("%c", Scytale[j][i]);
        }
    }
    printf("\n");
}

//Driver Function
int main()
{
    char Message[] =  "I am hurt very badly HELP" ;

    int length = strlen(Message);
    int space = SpaceCount(Message);

    MakeScytale(Message);

    EncryptedMessage();

    DecryptedMessage();

return 0;
}
